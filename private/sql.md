#### MySQL rank functions
MYSQL DOCUMENTATION SAYS

"Window functions are permitted only in the select list and ORDER BY clause. Query result rows are determined from the FROM clause, after WHERE, GROUP BY, and HAVING processing, and windowing execution occurs before ORDER BY, LIMIT, and SELECT DISTINCT."

MYSQL DOCUMENTATION
https://dev.mysql.com/doc/refman/8.0/en/window-functions-usage.html